Oil prices eked out gains despite a stronger dollar and rising U.S. oil rig count, as hopes that  OPEC might agree to limit production cuts at the end of the  month boosted sentiment.  The Organization of the Petroleum Exporting Countries is  moving closer to finalizing its first deal since 2008 to limit  output, with most members prepared to offer Iran flexibility on  production volumes, ministers and sources said.  Iran has been the main stumbling block for capping production,  and while it has not yet responded to the proposal, it suggests  OPEC members may be coming nearer to a consensus ahead of their  meeting in Vienna on Nov. 30.  Prices, however, were depressed by a stronger U.S. dollar, which  reached its highest levels against a basket of currencies since  2003 after U.S. Federal Reserve Chair Janet Yellen said  that a rate increase could happen "relatively soon," indicating  higher chances of a hike in December.  A stronger dollar makes oil, which is priced in the greenback,  more expensive to buyers using other currencies.Oilfield services firm Baker Hughes reported the largest weekly rise in its count of oil rigs operating in U.S. fields since a recovery began at the end of June. The count rose by 19 rigs to 471 in the last week. Brent crude oil futures were down 27 cents at $46.76 per barrel at 2:38 p.m. ET (1938 GMT), but it was still on track  for its first weekly increase  in five weeks. U.S. West Texas Intermediate (WTI) crude oil futures  settled up 27 cents at $45.69 a barrel and posted their first weekly gain in four.   OPEC member countries have proposed Iran cap its oil output at  3.92 million barrels per day (bpd) under a production-limiting  deal for the whole group, a source familiar with the proposal has  told Reuters.  While Iran has not yet responded to the proposal, it means OPEC  members may be coming nearer to a consensus on how much Iran  should produce.  Iran has previously sent mixed signals, saying it would accept a  freeze at between 4 and 4.2 million bpd.  Russian Energy Minister Alexander Novak said on Friday after  meeting OPEC members he was more confident an output deal could  be reached between Moscow and the group to help to boost oil  prices.  Saudi Arabian Energy Minister Khalid Al-Falih said on Thursday he  was optimistic about OPEC's deal to limit oil output and  mentioned the lower end of a previously agreed production target  of 32.5 to 33 million bpd.  But analysts said there were still obstacles for the producer  group to overcome before it could reach a deal. OPEC is scheduled  to meet next on Nov. 30.  "Iranian and Iraqi intransigence to the proposed output cuts  remains in full force while competitive pressures among OPEC  members was highlighted by news that Iran displaced Saudi Arabia  as the top oil supplier to India," Stephen Brennock of oil  brokerage PVM said.  Iran overtook Saudi Arabia as India's top oil supplier for the  first time in October, shipping data showed.  Iraq would have to compensate international oil companies for  limits placed on their production, further reducing the prospect  it would join any OPEC deal to curb the group's output.  Jason Gammel of U.S. investment bank Jefferies said a cut of at  least 700,000 barrels per day was needed to balance the market in  the first quarter of 2017.