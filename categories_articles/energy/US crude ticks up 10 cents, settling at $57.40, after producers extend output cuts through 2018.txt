Oil prices were higher on Thursday after two dozen producer nations agreed to extend a deal to limit their production through 2018.OPEC and other oil exporters led by Russia have kept 1.8 million barrels a day off the market since January, helping to boost crude prices about 40 percent from the lows of the year. The producers are meeting in Vienna on Thursday to discuss the deal.OPEC members, Russia and nine other producers agreed on Thursday to replace the current deal that runs through March with an agreement that will be in place from January through December of 2018.Traders entered the week confident that the group would extend the agreement by nine months through the end of 2018. But ministers sent mixed messages through Thursday, with Russia's hesitance to agree to a nine-month extension emerging as the main obstacle.U.S. crude intradayU.S. West Texas Intermediate crude ended Thursday's session up 10 cents at $57.40. It has fallen 2.6 percent since last week, pressured by a faster-than-expected restart to the Keystone pipeline and a rise in U.S. stockpiles of gasoline and distillate fuels.Oil futures came under pressure on Tuesday after sources told Reuters the group is considering a nine-month extension, but with a review of the deal in June. That left many oil market watchers with the impression producers had settled on a de facto three-month extension.The producers will indeed review the deal at the next OPEC meeting in June.Nigerian Minister of Petroleum Resources Emmanuel Ibe Kachikwu on Wednesday said the market is making too much of the idea of a midyear review."There's actually only one option," Kachikwu told CNBC. "Even if you do take full-year rollover, you will need to review that according to market behavior, so they are not necessarily apart."Nigeria and Libya, two OPEC members exempt from the deal, have agreed not to increase their output above next year above 2017 levels. The two OPEC members were allowed to pump without limit while they restored production sidelined by internal conflicts. Over the course of the year, supplies from both countries have recovered significantly.Oil futures extended losses on Wednesday after Russian Energy Minister Alexander Novak declined to say whether he supported a nine-month extension following a meeting of countries tasked with monitoring compliance with the agreement.Russia was reportedly concerned that a nine-month extension could cause markets to quickly tighten, leading to undersupply that results in a price spike. Another concern is that higher prices will cause the Russian ruble to appreciate, which could hurt the country's exports.Oil watchers also warn that a rise in prices will give U.S. shale drillers an incentive to flood the market. Russia has expressed concern that its oil companies will continue to lose market share to American producers, who are exporting record levels of crude. — CNBC's Patti Domm and Steve Sedgwick contributed to this report.